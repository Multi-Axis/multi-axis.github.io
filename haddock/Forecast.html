<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Forecast</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Forecast.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">habbix-0.1.0.0: Multi-Axis library/executable and misc. zabbix tools</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(C) 2014 Samuli Thomasson</td></tr><tr><th>License</th><td>MIT (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Samuli Thomasson &lt;samuli.thomasson@paivola.fi&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Forecast</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Filters</a></li><li><a href="#g:2">Utility</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Regression utilities.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Predict">Predict</a> = <a href="file:///usr/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-Trans-State-Strict.html#t:StateT">StateT</a> (Vector <a href="ZabbixDB.html#t:Epoch">Epoch</a>, Vector <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a>) <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></li><li class="src short"><a href="#v:simpleLinearRegression">simpleLinearRegression</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> n, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> n, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Foreign-Storable.html#t:Storable">Storable</a> n) =&gt; Vector n -&gt; Vector n -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (n, n, n)</li><li class="src short"><a href="#v:drawFuture">drawFuture</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="ZabbixDB.html#t:Epoch">Epoch</a>, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a>) -&gt; Vector <a href="ZabbixDB.html#t:Epoch">Epoch</a> -&gt; Vector <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Filter">Filter</a> = <a href="#v:Filter">Filter</a> {<ul class="subs"><li><a href="#v:aggregate">aggregate</a> :: <a href="Forecast.html#t:FilterAggregate">FilterAggregate</a></li><li><a href="#v:interval">interval</a> :: <a href="ZabbixDB.html#t:Epoch">Epoch</a></li><li><a href="#v:intervalStarts">intervalStarts</a> :: <a href="ZabbixDB.html#t:Epoch">Epoch</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:FilterAggregate">FilterAggregate</a><ul class="subs"><li>= <a href="#v:Max">Max</a></li><li>| <a href="#v:Min">Min</a></li><li>| <a href="#v:Avg">Avg</a></li></ul></li><li class="src short"><a href="#v:applyFilter">applyFilter</a> :: <a href="Forecast.html#t:Filter">Filter</a> -&gt; <a href="Forecast.html#t:Predict">Predict</a> ()</li><li class="src short"><a href="#v:apply">apply</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> b) =&gt; <a href="Forecast.html#t:FilterAggregate">FilterAggregate</a> -&gt; Vector (a, b) -&gt; (a, b)</li><li class="src short"><a href="#v:splittedAt">splittedAt</a> :: <a href="ZabbixDB.html#t:Epoch">Epoch</a> -&gt; <a href="ZabbixDB.html#t:Epoch">Epoch</a> -&gt; Vector <a href="ZabbixDB.html#t:Epoch">Epoch</a> -&gt; Vector (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a>, <a href="ZabbixDB.html#t:Epoch">Epoch</a>)</li><li class="src short"><a href="#v:vectorAvg">vectorAvg</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a) =&gt; Vector a -&gt; a</li><li class="src short"><a href="#v:vectorMedian">vectorMedian</a> ::  Vector a -&gt; a</li><li class="src short"><a href="#v:aesonOptions">aesonOptions</a> :: <a href="file:///home/sim/habbix/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/aeson-0.8.0.2/html/Data-Aeson-Types.html#t:Options">Options</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Predict" class="def">Predict</a> = <a href="file:///usr/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-Trans-State-Strict.html#t:StateT">StateT</a> (Vector <a href="ZabbixDB.html#t:Epoch">Epoch</a>, Vector <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a>) <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></p><div class="doc"><p>A simple stateful abstraction</p></div></div><div class="top"><p class="src"><a name="v:simpleLinearRegression" class="def">simpleLinearRegression</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> n, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> n, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Foreign-Storable.html#t:Storable">Storable</a> n) =&gt; Vector n -&gt; Vector n -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (n, n, n)</p><div class="doc"><p>`simpleLinearRegression xs ys` gives (a, b, r2) for the line
 y = a * x + b.</p></div></div><div class="top"><p class="src"><a name="v:drawFuture" class="def">drawFuture</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a></td><td class="doc"><p>a</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a></td><td class="doc"><p>b</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="ZabbixDB.html#t:Epoch">Epoch</a>, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a>)</td><td class="doc"><p>draw starting at (time, value)</p></td></tr><tr><td class="src">-&gt; Vector <a href="ZabbixDB.html#t:Epoch">Epoch</a></td><td class="doc"><p>clocks</p></td></tr><tr><td class="src">-&gt; Vector <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><pre>y - y0 = a * (x - x0)
     ==&gt; y = a * x + (y0 - a * x0) = a * x + b'
</pre></div></div><h1 id="g:1">Filters</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Filter" class="def">Filter</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Filter" class="def">Filter</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:aggregate" class="def">aggregate</a> :: <a href="Forecast.html#t:FilterAggregate">FilterAggregate</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:interval" class="def">interval</a> :: <a href="ZabbixDB.html#t:Epoch">Epoch</a></dt><dd class="doc"><p>seconds; a day an hour...</p></dd><dt class="src"><a name="v:intervalStarts" class="def">intervalStarts</a> :: <a href="ZabbixDB.html#t:Epoch">Epoch</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FilterAggregate" class="def">FilterAggregate</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Max" class="def">Max</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Min" class="def">Min</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Avg" class="def">Avg</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:applyFilter" class="def">applyFilter</a> :: <a href="Forecast.html#t:Filter">Filter</a> -&gt; <a href="Forecast.html#t:Predict">Predict</a> ()</p></div><div class="top"><p class="src"><a name="v:apply" class="def">apply</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> b) =&gt; <a href="Forecast.html#t:FilterAggregate">FilterAggregate</a> -&gt; Vector (a, b) -&gt; (a, b)</p></div><div class="top"><p class="src"><a name="v:splittedAt" class="def">splittedAt</a> :: <a href="ZabbixDB.html#t:Epoch">Epoch</a> -&gt; <a href="ZabbixDB.html#t:Epoch">Epoch</a> -&gt; Vector <a href="ZabbixDB.html#t:Epoch">Epoch</a> -&gt; Vector (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a>, <a href="ZabbixDB.html#t:Epoch">Epoch</a>)</p><div class="doc"><p>Fold left; accumulate the current index (and timestamp) when day changes.</p></div></div><h1 id="g:2">Utility</h1><div class="top"><p class="src"><a name="v:vectorAvg" class="def">vectorAvg</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a) =&gt; Vector a -&gt; a</p></div><div class="top"><p class="src"><a name="v:vectorMedian" class="def">vectorMedian</a> ::  Vector a -&gt; a</p></div><div class="top"><p class="src"><a name="v:aesonOptions" class="def">aesonOptions</a> :: <a href="file:///home/sim/habbix/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/aeson-0.8.0.2/html/Data-Aeson-Types.html#t:Options">Options</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>